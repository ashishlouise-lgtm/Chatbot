<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maa Ambey Furniture | OpenRouter AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-stone-50 min-h-screen p-4 text-gray-800">

    <div class="max-w-md mx-auto space-y-6">
        <header class="bg-stone-800 text-white p-6 rounded-2xl text-center shadow-xl">
            <h1 class="text-2xl font-bold">Maa Ambey Furniture üõ†Ô∏è</h1>
            <p class="text-xs opacity-80 italic mt-1">Ajmer's AI Furniture Expert</p>
        </header>

        <div class="bg-white p-6 rounded-2xl shadow-md border-t-4 border-orange-400">
            <div id="chatBox" class="h-80 overflow-y-auto mb-4 space-y-3 p-2 text-sm bg-stone-50 rounded-xl">
                <div class="text-stone-400 italic text-center">Namaste! OpenRouter ke zariye main live hoon. Puchiye...</div>
            </div>
            <div class="flex gap-2">
                <input type="text" id="userInput" placeholder="Ask anything..." class="flex-1 p-3 border rounded-xl outline-none focus:ring-2 focus:ring-orange-200">
                <button onclick="askAI()" id="sendBtn" class="bg-orange-400 text-white px-5 rounded-xl font-bold shadow-md hover:bg-orange-500 transition-all">Send</button>
            </div>
        </div>
    </div>

    <script>
      // 1. Apni OpenRouter Key yahan dhyan se paste karein
      const OPENROUTER_API_KEY = "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"; 

      window.askAI = async () => {
        const input = document.getElementById('userInput');
        const box = document.getElementById('chatBox');
        const btn = document.getElementById('sendBtn');
        
        if (!input.value.trim()) return;

        const text = input.value;
        box.innerHTML += `<div class="text-right"><span class="bg-stone-100 p-2 rounded-lg inline-block max-w-[80%]"><b>Aap:</b> ${text}</span></div>`;
        input.value = '';
        btn.disabled = true;

        try {
          // OpenRouter API call
          const response = await fetch("https://openrouter.ai/api/v1/chat/completions", {
            method: "POST",
            headers: {
              "Authorization": `Bearer ${OPENROUTER_API_KEY}`,
              "Content-Type": "application/json"
            },
            body: JSON.stringify({
              "model": "google/gemini-2.0-flash-001", // Aapki list wala model
              "messages": [
                {"role": "system", "content": "Aap Maa Ambey Furniture, Ajmer ke assistant hain. Polite hindi mein jawab dein."},
                {"role": "user", "content": text}
              ]
            })
          });

          const data = await response.json();
          
          if (data.choices && data.choices[0]) {
            const aiText = data.choices[0].message.content;
            box.innerHTML += `<div class="text-left"><span class="bg-orange-50 p-2 rounded-lg inline-block border border-orange-100 max-w-[80%]"><b>AI:</b> ${aiText}</span></div>`;
          } else {
            throw new Error(data.error ? data.error.message : "Response nahi mila");
          }

        } catch (error) {
          box.innerHTML += `<div class="text-red-500 text-xs italic text-center">Error: ${error.message}</div>`;
          console.error(error);
        }

        btn.disabled = false;
        box.scrollTop = box.scrollHeight;
      };
    </script>
</body>
</html>
